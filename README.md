# Model meta generator

The Go command.

Generates metadata and helpers for models.

### Help:
```bash
modelmeta-gen -h
```

### Usage example:
```bash
modelmeta-gen -type=User
```
```go
//go:generate modelmeta-gen -type=User
```

### The generated code template:
\<type\>_meta_gen.go:
```go
// Code generated by modelmeta-gen. DO NOT EDIT.
// Source: <path>.go

package <package>

import ...

const <Type>DefaultColumns = "..."

var (
	<Type>Meta = <type>Meta{
		Lookup_: <type>LookupMeta,
		<Field>: <type>LookupMeta.Fields()[<Field index>],
		...
	}

	<type>LookupMeta = meta.NewLookup([]meta.Field{
		{Index: <Field index>, Field: "...", Column: "...", Property: "...", Type: "..."},
		...
	})
)

type <type>Meta struct {
	*meta.Lookup_
	<Field> meta.Field
	...
}

func (m <Type>) Fields() (entity *<Type>, fields []any) {
	return &m, []any{
		&m.<Field>,
		...
	}
}

func (m *<Type>) FieldByIndex(index int) any {
	switch index {
	case <Field index>:
		return m.<Field>
	...
	}
	return nil
}

func (m *<Type>) LookupMeta() *meta.Lookup_ {
	return <Type>Meta.Lookup_
}

func (m *<Type>) <Field ends with At>InTZ() nullable.Time {
	return datetime.InTimeZone(m.<Field ends with At>, m.<Field ends with AtUTCOffset>)
}

func (m *<Type>) <Nullable field ends with At>InTZ() nullable.Time {
	return datetime.InTimeZone(m.<Nullable field ends with At>.Time, m.<Nullable field ends with AtUTCOffset>)
}
```

### The generated code depends on packages:
common\
foundation
