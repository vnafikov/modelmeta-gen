# Model meta generator

The Go command.

Generates metadata and helpers for models.

### Help:
```bash
modelmeta-gen -h
```

### Usage example:
```bash
modelmeta-gen -type=User
```
```go
//go:generate modelmeta-gen -type=User
```

### The generated code template:
\<type\>_meta_gen.go:
```go
// Code generated by modelmeta-gen. DO NOT EDIT.
// Source: <path>.go

import (
	...
)

const <Type>DefaultColumns = "..."

var <Type>Meta = meta.NewMeta([]meta.FieldMeta{
	{Field: "...", Column: "...", Property: "..."},
	...
})

func (m <Type>) Fields() (entity *<Type>, fields []any) {
	return &m, []any{
		&m.<Field>,
		...
	}
}

func (m *<Type>) ColumnToProperty(column string) string {
	if fieldMeta, ok := <Type>Meta.ByColumn(column); ok {
		return fieldMeta.Property
	}
	return ""
}

func (m *<Type>) <Field ends with At>TZ() nullable.Time {
	return datetime.InTimeZone(m.<Field ends with At>, m.<Field ends with AtUTCOffset>)
}

func (m *<Type>) <Nullable field ends with At>TZ() nullable.Time {
	return datetime.InTimeZone(m.<Nullable field ends with At>.Time, m.<Nullable field ends with AtUTCOffset>)
}
```

### The generated code depends on packages:
common\
foundation
